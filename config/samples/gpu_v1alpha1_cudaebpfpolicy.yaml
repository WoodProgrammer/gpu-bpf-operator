apiVersion: gpu.obs.gpu/v1alpha1
kind: CudaEBPFPolicy
metadata:
  name: cuda-malloc-memcpy
spec:
  libPath: "/usr/lib/x86_64-linux-gnu/libcudart.so"
  functions:
    - name: "cudaMalloc"
      kind: "uprobe"
      args:
        - index: 1
          name: "size"
    - name: "cudaFree"
      kind: "uprobe"
  mode: "pidwatch"
